{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Users/Users.module.css","api/api.js","components/Music/Music.module.css","components/Common/Pagination/Pagination.module.css","preloader.svg","musicReducer.js","NewsReducer.js","utilities/objectObserver.js","UsersReducer.js","auth-reducer.js","appReducer.js","reduxStore.js","components/Navbar/Navbar.js","components/Footer/Footer.js","components/Login/Login.js","components/News/News.js","components/News/NewsContainer.js","components/Music/Music.js","components/Music/MusicContainer.js","components/Common/Pagination/Pagination.js","components/Users/User.js","components/Users/Users.js","components/Users/users-selectors.js","components/Users/UsersContainer.js","components/Header/Header.js","components/Header/HeaderContainer.js","hoc/SuspenseLoading.js","App.js","index.js","components/Common/FormsControls/FormControls.js","components/Common/FormsControls/FormControls.module.css","utilities/validators/validators.js","components/Common/Preloader/preloader.js","ProfileReducer.js","dialogsReducer.js"],"names":["module","exports","instance","axios","baseURL","withCredentials","headers","userAPI","getUsers","currentPage","pageSize","get","then","resp","data","unfollow","id","delete","follow","post","authApi","getAuth","login","email","password","rememberMe","logout","profileApi","getProfile","getStatus","updateStatus","status","put","initialState","music","track","newVal","initialSate","friends","name","newValue","updateObjectInArr","items","itemId","propertyName","newObjectProps","map","obj","users","totalUsersCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPageAC","setIsFetchingAC","toggleFollowingProgressAC","progress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","isAuth","setAuthUserData","payload","getAuthThunk","AuthReducer","state","action","initialazed","AppReducer","reducers","combineReducers","profile","profileReducer","dialogs","dialogsReducer","musicList","sidebar","text","settingParam","followed","count","filter","auth","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Navbar","className","s","navigation","navigation__item","to","item","activeClassName","active","Footer","maxLengthLogin20","maxLengthCreators","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","CreateField","Input","requiredFields","formSumaryError","connect","loginThunk","message","messages","length","stopSubmit","_error","News","props","friendsList","i","key","ref","React","createRef","onChange","value","current","updateOnChangeNews","onClick","console","log","addOnClickNews","NewsContainer","val","addNewOnChangeActionCreator","Music","elem","refElem","paragraph","findOnChangeUpdate","addOnClick","MusicContainer","Pagination","onPageChechged","totalItemssCount","sectorSize","pagesCount","Math","ceil","pages","push","sectorCount","useState","sectorNumber","setSectorNumber","leftFrontier","rightFrontier","page","num","selectedPage","e","User","user","src","photos","small","disabled","some","Users","createSelector","u","getIsFetching","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","UsersContainer","numPage","getUsersThunk","this","Component","setCurrentPage","totalCount","bind","Header","logoutThunk","HeaderContainer","SuspenseLoading","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","child","hasError","formControl","children","Textarea","restProps","placeholder","component","arr","validate","maxLength","Preloader","preloader","posts","likesCount","newPost","addPostActionCreator","newPostText","setStatus","getProfileThunk","setStatusThunk","updateStatusThunk","str","dialogsData","messagesData","addNewMessage","addDialog"],"mappings":"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","file":"static/js/main.282de6d8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__1IQYR\",\"navigation\":\"Navbar_navigation__3DKL2\",\"navigation__item\":\"Navbar_navigation__item__3wXz3\",\"item\":\"Navbar_item__2xiyv\",\"active\":\"Navbar_active__yI1ky\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"Users_active__3_0wL\",\"selectedPage\":\"Users_selectedPage__1PWmz\"};"," /// это временный DAL\r\n import React from 'react';\r\n import * as axios from 'axios';\r\n\r\n\r\n// const baseUrl = 'https://social-network.samuraijs.com/api/1.0/';\r\n\r\nconst instance = axios.create({\r\n\t        baseURL: 'https://social-network.samuraijs.com/api/1.0/', \r\n\t \t\twithCredentials: true,\r\n\t \t\theaders: {\r\n                        'API-KEY' : '43040dd6-0e63-4499-9314-9afff1dbb86e'\r\n                      }\r\n\t \t\r\n});\r\n\r\nexport const userAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t               .then(resp => resp.data);\r\n    },\r\n\r\n    unfollow(id){\r\n\t\t    return instance.delete(`follow/${id}`)\r\n\t\t    .then(resp => resp.data);\r\n\t},\r\n\r\n      follow(id){\r\n      \t return instance.post(`follow/${id}`)\r\n      \t .then(resp => resp.data);\r\n      }\r\n\r\n}\r\n\r\nexport const authApi ={\t\r\n\tgetAuth(){\r\n\t\treturn instance.get(`auth/me`);\r\n\t   //  .then(resp=> resp.data);\r\n\t},\r\n\tlogin: function(email, password, rememberMe = false){\r\n         return instance.post(`auth/login`, {email, password, rememberMe});   \r\n\t}, \r\n\tlogout: function(){\r\n           return instance.delete(`auth/login`);\r\n\t}\r\n}\t\r\n\t\r\nexport const profileApi = {\r\n\tgetProfile(id){\r\n\t\treturn instance.get(`profile/${id}`)\r\n\t\t       // .then(resp => resp.data);\r\n\t},\r\n\tgetStatus: function(id){\r\n\t\treturn instance.get(`profile/status/${id}`);\r\n\t},\r\n\tupdateStatus: function(status){\r\n\t\treturn instance.put(`profile/status`, {status: status});\r\n\t}\r\n}\r\n\r\nexport const loginApi = {\r\n\tgetLogin(){\r\n\t\treturn instance.post(`auth/login`)\r\n\t\t.then(resp => resp.data);\r\n\t}\r\n}\r\n\r\nconst double = {\r\n\tprofile(param){\r\n\t\treturn profileApi.getProfile(param);\r\n\t}\r\n}\r\n\r\n/*\r\naxios.get(`https://social-network.samuraijs.com/api/1.0/profile/`+userId)\r\n\t\t.then(resp => {\r\n\t\t\tthis.props.setProfile(resp.data)\r\n\t\t});\r\n*/\t\t\r\n\r\n/*\r\naxios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`, {\r\n\t  \twithCredentials: true  //withCredentials прицепит куку с айди польззователя (на серваке я залогинина)\r\n\t  })\r\n\t  .then(resp => {\r\n            if(resp.data.resultCode == 0){\r\n            \t// деструктуризация : \r\n            \tlet {id, email, login} = resp.data.data;\r\n            \tthis.props.setAuthUserData(id, email, login); // axios в data упаковывет респонс\r\n            }\r\n\t  });\r\n}\r\n*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paragraph\":\"Music_paragraph__2flcN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"Pagination_active__2ABso\",\"selectedPage\":\"Pagination_selectedPage__26_sy\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.9163217b.svg\";","import React from 'react';\r\n\r\n\r\nconst SEARCH =  'SEARCH';\r\nconst FIND_SONG =  'FIND-SONG';\r\n\r\nlet initialState = {\r\n\tmusic: [\r\n\t\t\t{track: 1},\r\n\t\t\t{track: 2},\r\n\t\t\t{track: 3}\r\n\t\t], newVal: ''\r\n}; \r\n\r\nexport const musicReducer = (state = initialState, action) => {\t\r\n        \r\n  switch(action.type){\r\n  \tcase SEARCH:{\r\n          return {...state, newVal: action.newVal};\r\n  \t}\r\n\r\n\tcase FIND_SONG:{\r\n            return {...state, music: [...state.music, {track: state.newVal}], newVal: ''};\r\n\t} \r\n\t\r\n\tdefault: \r\n\t    return state;\t\t \t\r\n  \t\r\n  }\r\n}\r\n\r\nexport const addOnClickMusic = () => ({type: FIND_SONG});\r\n\r\nexport const findOnChangeSong = (val) => ({type: SEARCH, newVal: val});","import React from 'react';\r\n\r\n\r\nconst ADD_HEADLINE =  'ADD-HEADLINE';\r\nconst CHANGE_TEXTAREA =  'CHANGE-TEXTAREA';\r\n\r\nlet initialSate = {\r\n\tfriends:[\r\n\t\t  \t{id: 1, name: 'Katty'},\r\n\t\t\t{id: 2, name: 'Dima'},\r\n\t\t\t{id: 3, name: 'Lera'},\r\n\t\t\t{id: 4, name: 'Lena'}\r\n\t  ], newValue: ''\r\n}\r\n\r\n\r\nexport const NewsReducer = (state = initialSate, action) => {\t\r\n  switch(action.type){\r\n  \tcase ADD_HEADLINE:{\r\n            \treturn {...state, friends: [...state.friends, {id: 6, name: state.newValue}], newValue: ''};\r\n  \t}\r\n  \t\t  \t\r\n\tcase CHANGE_TEXTAREA:{\r\n\t\treturn {...state, newValue: action.text};  \r\n\t}\r\n\t\t\r\n\r\n\tdefault: \r\n\treturn state;\t\t \t\r\n  \t\r\n  }\r\n}\r\n\r\nexport const addNewsActionCreator = () => ({type: ADD_HEADLINE});\r\n\r\nexport const addNewOnChangeActionCreator = (val) => ({type: CHANGE_TEXTAREA, text: val});\r\n\r\n\r\n","import React from 'react'; // react импортируется из самого node moduls\r\n\r\n\r\nexport const updateObjectInArr = (items, itemId, propertyName, newObjectProps) => { \r\n   return items.map( obj => {\r\n                 if(obj[propertyName] === itemId){\r\n\t                return {...obj, ...newObjectProps};\r\n                 }\r\n                 return obj;\r\n    });\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {userAPI} from './api/api';\r\nimport {updateObjectInArr} from './utilities/objectObserver';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nlet initialSate = {\r\n\tusers: [],\r\n\tpageSize: 15,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\t//followingInProgress: false\r\n\tfollowingInProgress: []\r\n};\r\n\r\nexport const UsersReducer = (state = initialSate, action) => {\r\n\r\n\tswitch(action.type){\r\n\t\tcase FOLLOW:\r\n          return {\r\n          \t...state,\r\n          \t       users: updateObjectInArr(state.users, action.id, 'id', {followed: true})};\r\n          \t         /* state.users.map((obj) => {\r\n                      if(obj.id === action.id){\r\n\t                       return {...obj, followed: true};\r\n                        }\r\n                     return obj;\r\n              })\r\n          \t};*/\r\n\r\n        case UNFOLLOW:\r\n        return {\r\n        \t...state,\r\n        \t    users: updateObjectInArr(state.users, action.id, 'id', {followed: false})\r\n        \t  /*  state.users.map((obj) => {\r\n        \tif(obj.id === action.id){\r\n        \t\treturn {...obj, followed: false};\r\n        \t}\r\n        \treturn obj;\r\n            }) */\r\n        };\r\n\r\n      case SET_USERS: {\r\n      \treturn {...state, users: action.users}; ///,\r\n      };\r\n\r\n\t\t\tcase SET_CURRENT_PAGE:{\r\n\t\t\t\treturn {...state, currentPage: action.currentPage}\r\n\t\t\t};\r\n\r\n\t\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\t\treturn {...state, totalUsersCount: action.count}\r\n\t\t\t};\r\n\r\n\t\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\t\treturn {...state, isFetching: action.isFetching}\r\n\t\t\t};\r\n\t\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:{\r\n\t\t\t\treturn {...state, followingInProgress: action.isFetching\r\n\r\n\t\t\t\t\t? [...state.followingInProgress, action.id]\r\n\t\t\t\t    : [...state.followingInProgress.filter(id => id != action.id)]} // followingInProgress и будет переписываться вызовом toggleFollowingProgressAC\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\treturn state;\r\n\t}\r\n\r\n\treturn state;\r\n};\r\n\r\n\r\n\r\nexport const followSuccess = (id) => ({type: FOLLOW, id});\r\n\r\nexport const unfollowSuccess = (id) => ({type: UNFOLLOW, id});\r\n\r\nexport const setUsersAC = (users) => ({type: SET_USERS, users});\r\n\r\nexport const setCurrentPageAC = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\n\r\nexport const setTotalUsersCountAC = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\n\r\nexport const setIsFetchingAC = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching});\r\n\r\nexport const toggleFollowingProgressAC = (progress, id) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching: progress, id});\r\n\r\n\r\nexport const getUsersThunkCreateor = (page, pageSize) => async dispatch => {\r\n\t\t\t   dispatch(setIsFetchingAC(true)); // пока ждем ответ isFetching тру\r\n\t\t\t   dispatch(setCurrentPageAC(page));\r\n\r\n\t\t     let resp = await userAPI.getUsers(page, pageSize);\r\n\r\n\t\t       dispatch(setIsFetchingAC(false)); // когдв ответ получен isFetching false\r\n\t\t       dispatch(setUsersAC(resp.items));\r\n\t\t       dispatch(setTotalUsersCountAC(resp.totalCount));\r\n\t}\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n\t   \tdispatch(toggleFollowingProgressAC(true, id));\r\n\t\t\tlet data = await apiMethod(id);\r\n\t\t\t\t\t if(data.resultCode == 0){\r\n\t\t\t\t\t\t\t\tdispatch(actionCreator(id));\r\n\t\t\t\t\t\t }\r\n\t\t  dispatch(toggleFollowingProgressAC(false, id));\r\n}\r\n\r\nexport const followThunk = (id) => async dispatch => {\r\n      let apiMethod = await userAPI.follow.bind(userAPI);\r\n      let actionCreator = followSuccess;\r\n\r\n\t\t\tfollowUnfollowFlow(dispatch, id, apiMethod, actionCreator);\r\n\t}\r\n\r\n\r\nexport const unfollowThunk = (id) => async dispatch => {\r\n\t\tlet apiMethod = await userAPI.unfollow.bind(userAPI);\r\n\t\tlet actionCreator = unfollowSuccess;\r\n\t\tfollowUnfollowFlow(dispatch, id, apiMethod, actionCreator);\t\t\t                                            /// передан экшн креэйтор, и так же опрокинута в саму Юзерс\r\n\t}\r\n","import React from 'react';\r\nimport {stopSubmit} from 'redux-form'; // actionCreator от redux form\r\n\r\nimport {authApi} from './api/api';\r\n\r\nconst SET_USER_DATA =  'sn/auth/SET-USER-DATA'; // установливает данные пользователя\r\n\r\nlet initialSate = {\r\n      id: null,\r\n      email: null,\r\n      login: null,\r\n      isAuth: false\r\n};\r\n\r\n const AuthReducer = (state = initialSate, action) => {\t\r\n\t// данные которые нужны для преобразования стэйта лежат в action\r\n  switch(action.type){\r\n  \tcase SET_USER_DATA:{\r\n            \treturn {...state, ...action.payload};\r\n            \t// свойства которые сидят в action.data перезатрут, то что лежит в state\r\n  \t}\r\n\r\n\tdefault: \r\n\treturn state;\t\t \t\r\n  \t\r\n  }\r\n};\r\n\r\nconst setAuthUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA,  payload: {id, email, login, isAuth} });\r\n\r\nexport const getAuthThunk = () => async dispatch => {\r\n       let resp = await authApi.getAuth(); // возвращает промис\r\n\t       \t     \r\n\r\n\t\t             if(resp.data.resultCode == 0){\r\n\t\t\t            \t// деструктуризация : \r\n\t\t\t            \t// если мы залогинины, то засовываем в наш стэйт {id, email, login} и меняем isAuth на true\r\n\t\t\t            \tlet {id, email, login} = resp.data.data;\r\n\t\t\t            \tdispatch(setAuthUserData(id, email, login, true)); // axios в data упаковывет респонс\r\n\t       \t       }\r\n\t\t           \r\n\r\n}\r\n\r\n// сам loginThunk выступает в качетсве creator, сама санка  начинается с dispatch\r\nexport const loginThunk = (email, password, rememberMe = false) => async dispatch => {\r\n\r\n      let resp = await authApi.login(email, password, rememberMe);\r\n\r\n                      if(resp.data.resultCode == 0){\r\n                          dispatch(getAuthThunk());   \r\n                      }else{\r\n                        let message = (resp.data.messages[0].length > 0) ? resp.data.messages[0] : 'Some error';\r\n                                                      //email: 'Incorrect email', password: 'Wrong pass, try again'                                                 \r\n                        dispatch(stopSubmit('login', {_error: message}));\r\n                                            // свойство _error позволяет получить общую ошибку всей формы, \r\n                                            // чтобы не подсвечивать отдельные поля ввода\r\n                      }                  \r\n                \r\n}\r\n\r\nexport const logoutThunk = () => async dispatch => {\r\n  let resp = await authApi.logout();\r\n        if(resp.data.resultCode === 0) dispatch(setAuthUserData(null, null, null, false));                     \r\n}\r\n\r\nexport default AuthReducer;\r\n","import React from 'react';\r\nimport {stopSubmit} from 'redux-form'; // actionCreator от redux form\r\n\r\nimport {getAuthThunk} from './auth-reducer';\r\n\r\nconst INIALAZED_SUCCESS =  'INIALAZED-SUCCESS'; // установливает данные пользователя\r\n\r\nlet initialSate = {\r\n      initialazed: null,\r\n};\r\n\r\n const AppReducer = (state = initialSate, action) => {\t\r\n\t// данные которые нужны для преобразования стэйта лежат в action\r\n  switch(action.type){\r\n  \tcase INIALAZED_SUCCESS:{\r\n            \treturn {...state, initialazed: true};\r\n            \t// свойства которые сидят в action.data перезатрут, то что лежит в state\r\n  \t}\r\n\r\n\tdefault: \r\n\treturn state;\t\t \t\r\n  \t\r\n  }\r\n};\r\n\r\nconst initialazedSuccess = () => ({type: INIALAZED_SUCCESS});\r\n\r\nexport const initializeApp = () => dispatch => {\r\n      let promise = dispatch(getAuthThunk());\r\n      Promise.all([promise]).then( () => dispatch(initialazedSuccess()));\r\n}\r\n\r\n\r\nexport default AppReducer;\r\n","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport {profileReducer} from './ProfileReducer';\r\nimport {dialogsReducer} from './dialogsReducer';\r\nimport {musicReducer} from './musicReducer';\r\nimport {NewsReducer} from './NewsReducer';\r\nimport {UsersReducer} from './UsersReducer';\r\nimport AppReducer from './appReducer';\r\nimport AuthReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'; /// имортирую thunk под именем thunkMiddleware\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet reducers = combineReducers({profile: profileReducer, dialogs: dialogsReducer,\r\n\tmusicList: musicReducer, sidebar: NewsReducer, settingParam: UsersReducer, auth: AuthReducer, app: AppReducer,\r\n\tform:  formReducer});\r\n /// form - должно быть написано именно форм\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers, /* preloadedState, */ composeEnhancers( applyMiddleware(thunkMiddleware)  )) ;  //...middleware\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware)); // applyMiddleware нужно чтобы можно было диспатчить функции, а не только объекты\r\n\r\nexport default store;\r\n\r\nwindow.__store__ = store;\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return <nav className={s.Navbar}>\r\n\t     <ul className={s.navigation}>\r\n\t\t     <li className={s.navigation__item}>\r\n\t\t\t    <NavLink to=\"/profile\" className={s.item} activeClassName={s.active}> Profile </NavLink>\r\n\t\t\t </li>\r\n\t\t\t  \r\n\t\t\t<li className={s.navigation__item}>\r\n\t\t\t    <NavLink to=\"/dialogs\" className={s.item} activeClassName={s.active}> Message </NavLink>\r\n\t\t\t </li>\r\n\r\n\t\t\t <li className={s.navigation__item}>\r\n\t\t\t    <NavLink to=\"/news\" className={s.item} activeClassName={s.active}> News </NavLink>\r\n\t\t\t </li>\r\n\t\t\t <li className={s.navigation__item}>\r\n\t\t\t    <NavLink to=\"/music\" className={s.item} activeClassName={s.active}> Music </NavLink>\r\n\t\t\t </li>\r\n\t\t\t <li className={s.navigation__item}>\r\n\t\t\t    <NavLink to=\"/users\" className={s.item} activeClassName={s.active}> Users </NavLink>\r\n\t\t\t </li>\r\n\t\t </ul>\r\n\t   </nav>\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport './Footer.css';\r\n\r\nconst Footer = () => {\r\n\treturn <footer className=\"Footer\">\r\n\t\r\n\t </footer>\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport {Input, CreateField} from '../Common/FormsControls/FormControls';\r\nimport s from '../Common/FormsControls/FormControls.module.css';\r\nimport {requiredFields, maxLengthCreators} from '../../utilities/validators/validators';\r\nimport {loginThunk} from '../../auth-reducer';\r\n\r\nconst maxLengthLogin20 = maxLengthCreators(20);\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n  \r\n    return (               \r\n               <form onSubmit={handleSubmit}>\r\n                    {CreateField (\"email\", Input, \"email\", [requiredFields, maxLengthLogin20])}\r\n                    {CreateField(\"password\", Input, \"password\", [requiredFields, maxLengthLogin20], {type: \"password\"})}\r\n                    {CreateField(null, Input, \"rememberMe\", [], {type: \"checkbox\"}, \"remember me\")}  \r\n\r\n                     <div>\r\n                     {error &&  <div className={s.formSumaryError}>\r\n                                         {error}\r\n                                     </div>               \r\n                      }             \r\n                          <button>Login</button>        \r\n                     </div>\r\n               </form>\r\n            )\r\n}\r\n\r\n\r\n//  в функцию reduxForm надо засунуть ту компоненту, которую надо обернуть контейнерной компонентой\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'  // имя формы в state (state.form.post), уникальное имя формы\r\n})(LoginForm);\r\n\r\nconst Login = ({loginThunk, isAuth}) => {\r\n \r\n      const onSubmit = (data) => {\r\n         let {email, password, rememberMe} = data;\r\n\r\n         loginThunk(email, password, rememberMe);\r\n      }\r\n  \r\n     if(isAuth) return <Redirect to={\"/profile\"} />\r\n\r\n\treturn <div>\r\n  \t\t\t   <h1> Login </h1>\r\n  \t\t\t   <LoginReduxForm onSubmit={onSubmit}/>\r\n\t       </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({isAuth: state.auth.isAuth});\r\n\r\nexport default connect(mapStateToProps, {loginThunk})(Login);\r\n\r\n","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n\t\r\n\tlet friendsList = props.friends.map((item, i) => <div key={i}>  <p id={item.id}> {item.name} </p> </div>);\r\n\tlet ref = React.createRef();\r\n\r\n\tlet addingPost = () => {\r\n\t\tconsole.log(props)\r\n\t\tprops.addOnClickNews();\r\n\t}\r\n\t\r\nlet areaHandler = () => {\r\n\tlet value = ref.current.value;\r\n\tprops.updateOnChangeNews(value);\r\n}\r\n\r\n\treturn (\r\n\t  <div>\r\n\t    <p> my news  </p>\r\n\t\t{friendsList}\r\n\t\t<div>\r\n\t\t   <textarea ref={ref} onChange={areaHandler} value={props.newValue}/>\r\n\t\t   <button onClick={addingPost}>add news post</button>\r\n\t\t</div>\r\n\t  </div>\r\n\t)\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport  News from './News';\r\nimport {addNewsActionCreator, addNewOnChangeActionCreator} from '../../NewsReducer';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn{\r\n\t\tfriends: state.sidebar.friends,\r\n\t\tnewValue : state.sidebar.newValue\r\n\t}\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\r\n\treturn {\r\n\t\tupdateOnChangeNews: (val) => dispatch(addNewOnChangeActionCreator(val)),\r\n\t\taddOnClickNews: () => dispatch(addNewsActionCreator())\r\n\t}\r\n};\r\n\r\nconst NewsContainer = connect(mapStateToProps, mapDispatchToProps)(News);\r\nexport default NewsContainer;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n\tconsole.log(props);\r\n\tlet music = props.music.map((elem, i) => <div key={i}> {elem.track} </div>);\r\n\t\r\n\tlet refElem = React.createRef();\r\n\t\r\n\tlet btnClickHandler = () => {\r\n\t\tprops.addOnClick();\r\n\t}\r\n\t\r\n    let inputHandler = () => {\r\n\t\tlet value = refElem.current.value;\r\n\t\tprops.findOnChangeUpdate(value);\r\n\t}\r\n\t\r\n\treturn (\r\n\t  <div className=\"Music\">\r\n\t         <p className={s.paragraph}> here soon willl be play list </p>\r\n\t\t\t\t {music}\r\n\t\t\t\t <div>\r\n\t\t\t\t <p>лобавить в плейлист</p>\r\n\t\t\t\t <input ref={refElem} onChange={inputHandler} value={props.newVal} />\r\n\t\t\t\t <button onClick={btnClickHandler}>добавить трек</button>\r\n\t\t\t\t </div>\r\n\t  </div>\r\n\t)\r\n}\r\n\r\n\r\nexport default Music;","import React from 'react';\r\nimport Music from './Music';\r\nimport {connect} from 'react-redux';\r\nimport {addOnClickMusic, findOnChangeSong} from '../../musicReducer';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn  {\r\n\t\tmusic: state.musicList.music,\r\n        newVal: state.musicList.newVal\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n         return {\r\n         \t       findOnChangeUpdate: (value) =>  dispatch(findOnChangeSong(value)),\r\n                   addOnClick: () => dispatch(addOnClickMusic())\r\n                }\t\r\n};\r\n\r\nconst MusicContainer = connect(mapStateToProps, mapDispatchToProps)(Music);\r\nexport default MusicContainer;","import React from 'react';\r\nimport s from './Pagination.module.css';\r\nimport {useState} from 'react';\r\n\r\nlet Pagination = ({onPageChechged, totalItemssCount, pageSize, currentPage, sectorSize = 10, ...props}) => {\r\n  let pagesCount = Math.ceil(totalItemssCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 0; i < pagesCount; i++) {\r\n      pages.push(i+1);\r\n  }\r\n\r\n// sectorNumber - номер порции на странице\r\n// setSectorNumber - функция, которая этотноме меняет\r\n\r\n  let sectorCount = Math.ceil(pagesCount / sectorSize);\r\n  let [sectorNumber, setSectorNumber] = useState(1);\r\n  let leftFrontier = (sectorNumber - 1) * sectorSize + 1;\r\n  let rightFrontier = sectorNumber * sectorSize;\r\n\r\n/*\r\n\r\nlet pagesPagination = pages.map(num => {\r\n   return <span className={currentPage === num ? s.selectedPage : ''}\r\n                   onClick={(e) => {onPageChechged(num)}} key={num}>\r\n                 {num}\r\n           </span>\r\n});\r\n*/\r\n\r\n\r\n\r\nreturn  <div> { sectorNumber > 1 &&\r\n              <button onClick={ () => {setSectorNumber(sectorNumber - 1)} }>previous</button>}\r\n\r\n               {pages.filter(page => page >= leftFrontier && page <= rightFrontier)\r\n                         .map(num => {\r\n                         return <span className={currentPage === num ? s.selectedPage : ''}\r\n                                         onClick={(e) => {onPageChechged(num)}} key={num}>\r\n                                       {num}\r\n                                 </span>\r\n                          })\r\n              }\r\n              { sectorCount > sectorNumber &&\r\n                <button onClick={ () => {setSectorNumber(sectorNumber + 1)} }>next</button>}\r\n           </div>\r\n\r\n}\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Users.module.css';\r\n\r\n\r\nlet User = ({user, follow, unfollow, followingInProgress, ...props}) => {\r\n\r\n             return <div>\r\n                        <span>\r\n                                <NavLink to={'/profile/' + user.id}>\r\n                                     <img src={user.photos.small !== null ?\r\n                                      user.photos.small\r\n                                      : \"https://avatarko.ru/img/kartinka/2/Gubka_Bob.jpg\"} />\r\n                                </NavLink>\r\n                        </span>\r\n\r\n                        <span>\r\n                           { user.followed ?\r\n                                  <button disabled={followingInProgress.some(id => id == user.id)}\r\n                                  onClick={ () => {unfollow(user.id)} }>\r\n                                       UnFollow\r\n                               </button>\r\n\r\n                          :  <button disabled={followingInProgress.some(id => id == user.id)}\r\n                                     onClick={ () => {follow(user.id)} }>\r\n                                       Follow\r\n                            </button>\r\n                          }\r\n\r\n                        </span>\r\n\r\n                        <span>\r\n                           <span>{user.name}</span>\r\n                           <span> {'user.lacation.city'} , {'user.lacation.country'} </span>\r\n                        </span>\r\n                 </div>\r\n\r\n}\r\n\r\nexport default User;\r\n\r\n\r\n\r\n/*\r\n                            /*  axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${user.id}`, {}, {\r\n                              \t withCredentials: true,\r\n                                 headers: {\r\n                        \t      \t    \t'API-KEY' : '43040dd6-0e63-4499-9314-9afff1dbb86e'\r\n                        \t      \t    }\r\n                              }) */\r\n\r\n\r\n\r\n// в axios.post withCredentials предается 3м параметром!! , а в axios.get и в axios.delete - вторым\r\n","import React from 'react';\r\nimport s from './Users.module.css';\r\n\r\nimport Pagination from '../Common/Pagination/Pagination';\r\nimport User from './User';\r\n\r\nlet Users = ({onPageChechged, totalUsersCount, pageSize, currentPage, ...props}) => {\r\n\r\nreturn  <div>\r\n\r\n          <Pagination onPageChechged={onPageChechged}\r\n                      totalItemssCount={totalUsersCount}\r\n                      pageSize={pageSize}\r\n                      currentPage={currentPage}\r\n          />\r\n         {\r\n           props.users.map(obj =>  <User key={obj.id} user={obj}  follow={props.follow} unfollow={props.unfollow} followingInProgress={props.followingInProgress}/> )\r\n         }\r\n\r\n     </div>\r\n}\r\n\r\nexport default Users;\r\n\r\n\r\n\r\n/*\r\n                            /*  axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${obj.id}`, {}, {\r\n                              \t withCredentials: true,\r\n                                 headers: {\r\n                        \t      \t    \t'API-KEY' : '43040dd6-0e63-4499-9314-9afff1dbb86e'\r\n                        \t      \t    }\r\n                              }) */\r\n\r\n\r\n\r\n// в axios.post withCredentials предается 3м параметром!! , а в axios.get и в axios.delete - вторым\r\n","import React from 'react';\r\nimport { createSelector } from 'reselect'\r\n\r\nconst getUsersSelector = (state) => { \r\n\treturn state.settingParam.users;\r\n};\r\n\r\n\r\n// state придет в getUsersSuperSelector из mapStateToProps из UsersContainer\r\nexport const getUsers = createSelector(getUsersSelector, \r\n    (users) => {  \r\n            return users.filter(u => true);\r\n});\r\n\r\n/*   Можно передать несколько зависимостей:\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers, getIsFetching, (users, isFetching) => {\r\n    return users.filter(u => true);\r\n});\r\n  \r\n*/\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.settingParam.isFetching\r\n};\r\n\r\nexport const getPageSize = (state) => { \r\n\treturn state.settingParam.pageSize\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.settingParam.totalUsersCount\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.settingParam.currentPage\r\n};\r\n\r\n\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.settingParam.followingInProgress\r\n};\r\n\r\n/*\r\n\r\nlet mapStateToProps = (state) => { // Это  пропсы для функциональной компоненты\r\n  return  {\r\n         users: state.settingParam.users,\r\n         pageSize: state.settingParam.pageSize, // количество страниц\r\n         totalUsersCount: state.settingParam.totalUsersCount, // общее количество пользователей\r\n         currentPage: state.settingParam.currentPage,\r\n         isFetching:  state.settingParam.isFetching,\r\n         followingInProgress: state.settingParam.followingInProgress\r\n  }\r\n}\r\n\r\n*/","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {compose} from 'redux';\r\n\r\nimport {followAC, unfollowAC, setUsersAC, setCurrentPageAC,\r\n         setTotalUsersCountAC, setIsFetchingAC,\r\n         toggleFollowingProgressAC,  getUsersThunkCreateor,\r\n          unfollowThunk, followThunk} from '../../UsersReducer';\r\nimport Users from './Users';\r\nimport {userAPI} from '../../api/api.js';\r\nimport Preloader from '../Common/Preloader/preloader';\r\nimport {getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching,\r\n  getFollowingInProgress} from './users-selectors';\r\n\r\n\r\nclass UsersContainer extends React.Component{\r\n\r\n    componentDidMount(){\r\n    debugger;\r\n       this.props.getUsersThunk(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChechged = (numPage) => { // стрелочная функция чтобы  сохранить контекст вызова\r\n\r\n        this.props.getUsersThunk(numPage, this.props.pageSize);\r\n\r\n    }\r\n\r\n  render(){\r\n\r\n    return  (<div>\r\n              <div> {this.props.isFetching ? <Preloader /> : null} </div>\r\n\r\n               <Users onPageChechged={this.onPageChechged} totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize} currentPage={this.props.currentPage}\r\n                    users={this.props.users} unfollow={this.props.unfollow} follow={this.props.follow}\r\n                    isFetching={this.props.isFetching} followingInProgress={this.props.followingInProgress}\r\n\r\n                   />\r\n              </div>\r\n            )\r\n  }\r\n}\r\n\r\n\r\n/*\r\nlet mapStateToProps = (state) => { // Это  пропсы для функциональной компоненты\r\n  return  {\r\n         users: state.settingParam.users,\r\n         pageSize: state.settingParam.pageSize, // количество страниц\r\n         totalUsersCount: state.settingParam.totalUsersCount, // общее количество пользователей\r\n         currentPage: state.settingParam.currentPage,\r\n         isFetching:  state.settingParam.isFetching,\r\n         followingInProgress: state.settingParam.followingInProgress\r\n  }\r\n}\r\n\r\n*/\r\n\r\nlet mapStateToProps = (state) => {\r\n  return  {\r\n         users: getUsers(state),\r\n         pageSize: getPageSize(state), // количество страниц\r\n         totalUsersCount: getTotalUsersCount(state), // общее количество пользователей\r\n         currentPage: getCurrentPage(state),\r\n         isFetching: getIsFetching(state),\r\n         followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n/*let mapDispatchToProps = (dispatch) => {\r\n         return {\r\n                 follow: (id) => { dispatch(followAC(id))},\r\n                 unfollow: (id)=> { dispatch(unfollowAC(id))},\r\n                 setUsers: (users) => {dispatch(setUsersAC(users))},\r\n                 setCurrentPage: (currentPage) => {dispatch(setCurrentPageAC(currentPage))},\r\n                 setTotalUsersCount: (count) => {dispatch(setTotalUsersCountAC(count))},\r\n                 toggleFetching : (isFetching) => {dispatch(setIsFetchingAC(isFetching))}\r\n                }\r\n}; */\r\n\r\n\r\n// все эти пропсы для UsersContainer !!!, connect самих в нее засунет:\r\n// connect автоматически создает колбэк функцию\r\n// UsersContainer автоматически оборачивается connect, и соответсвенно connect передает ей параметры\r\n\r\nexport default compose(\r\n        //  WithAuthRedirect,\r\n          connect(mapStateToProps, {\r\n        setCurrentPage: setCurrentPageAC,\r\n        getUsersThunk: getUsersThunkCreateor, // getUsersThunkCreateor придет из UsersReducer и в UsersContainer уже попадет под именем getUsersThunk\r\n        unfollow: unfollowThunk,\r\n        follow: followThunk})\r\n          )(UsersContainer)\r\n","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport './Header.css';\r\n\r\nconst Header = (props) => {\r\n\treturn <header className=\"Header\">\r\n        \t <img src=\"https://pbs.twimg.com/profile_banners/49559323/1525870029/1500x500\" /> \r\n        \t <div className=\"loginBlock\">\r\n        \t       {props.isAuth \r\n        \t       \t? <div> {props.login} <button onClick={props.logoutThunk}> Log out </button> </div>\r\n                    : <NavLink to='/login'>login </NavLink>\r\n        \t       }\r\n        \t </div>\r\n\t </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {logoutThunk} from '../../auth-reducer';\r\nimport {authApi} from '../../api/api';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n  \r\n\t\trender(){\r\n\t\t\t\treturn <Header {...this.props} />\r\n\t\t}\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logoutThunk})(HeaderContainer);\r\n// getAuthThunk пойдет в пропсы к HeaderContainer","import React, {Suspense} from 'react';\r\n\r\nexport const SuspenseLoading = (Component) => {\r\n\r\n\treturn (props) => {\r\n\t\treturn <Suspense fallback={<h1>Loading posts...</h1>}>\r\n\t\t\t\t\t\t\t <Component {...props}/>\r\n\t\t\t\t\t </Suspense>\r\n\t}\r\n}\r\n","import React, {Suspense} from 'react'; // react импортируется из самого node moduls\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Footer from './components/Footer/Footer';\r\nimport Login from './components/Login/Login';\r\nimport NewsContainer from './components/News/NewsContainer';\r\nimport MusicContainer from './components/Music/MusicContainer';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport {initializeApp} from './appReducer';\r\nimport Preloader from './components/Common/Preloader/preloader';\r\n\r\nimport {BrowserRouter, Route, withRouter} from 'react-router-dom';\r\nimport {connect, Provider} from 'react-redux';\r\nimport {compose} from 'redux';\r\n\r\nimport store from './reduxStore';\r\nimport {SuspenseLoading} from './hoc/SuspenseLoading';\r\n//import ProfileContainer from './components/Profile/ProfileContainer';\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n// ProfileContainer и DialogsContainer не пападет в bundle, они загрузятся по надобности\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer') );\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer') );\r\n\r\n//  store={props.store}\r\nclass App extends React.Component {\r\n\r\n  componentDidMount(){\r\n         this.props.initializeApp();\r\n\t }\r\n\r\n\t  render(){\r\n        if(!this.props.initialazed) {return <Preloader />}\r\n        else{\r\n\t\t\t  return (\r\n\r\n\t\t\t\t <div className=\"wrapper\">\r\n\t\t\t         <HeaderContainer />\r\n\t\t\t\t\t <Navbar />\r\n\t\t\t\t\t <div className=\"content\">\r\n\t\t\t\t\t\t   <Route path = '/dialogs' render={ SuspenseLoading(DialogsContainer) }/>\r\n\t\t\t\t\t\t   <Route path = '/profile/:userId?' render={ SuspenseLoading(ProfileContainer) } />\r\n\t\t\t\t\t\t   <Route path = '/news' render ={() => <NewsContainer  /> } />\r\n\t\t\t\t\t\t   <Route path='/music' render = {() => <MusicContainer />} />\r\n\t\t\t\t\t\t   <Route path='/users' render = {() => <UsersContainer />} />\r\n\t\t\t\t\t\t   <Route path='/login' render = {() => <Login />} />\r\n\t\t\t\t\t </div>\r\n\t\t\t\t\t <Footer />\r\n\t\t\t\t </div>\r\n\r\n\t\t   \t  );\r\n\t\t}\r\n    }\r\n}\r\n\r\n// mapStateToProps - это функция, принимающая state и возвращающая объект\r\nconst mapStateToProps = (state) => ({initialazed: state.app.initialazed});\r\n\r\n/*\r\nexport default compose(withRouter,\r\n  connect (mapStateToProps, {initializeApp})\r\n)(App);\r\n*/\r\n\r\n// Из-за оборачивания в connect сбивается роутинг, поээтому нужен  withRouter.\r\n// А compose используется чтобы избежать большую вложенность hoc в hoc и т.д.\r\n\r\n\r\n\r\nlet AppContainer = compose(withRouter,\r\n  connect (mapStateToProps, {initializeApp})\r\n)(App);\r\n\r\n let MainApp = (state) => {\r\n\treturn <BrowserRouter>\r\n      \t    <Provider  store={store}>\r\n      \t\t     <AppContainer />\r\n      \t  \t</Provider>\r\n  \t    </BrowserRouter>\r\n}\r\n\r\nexport default MainApp;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport store from './reduxStore';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport MainApp from './App';\r\nimport {Provider} from 'react-redux';\r\n\r\n// onother index, look  less 91, time - 15.54\r\n\r\nReactDOM.render(\r\n<BrowserRouter>\r\n\t\t<Provider  store={store}>\r\n\t\t\t <MainApp />\r\n\t</Provider>\r\n</BrowserRouter>\r\n,document.getElementById('root'));\r\n\r\n/*\r\nстарая апп\r\n\r\nexport let renderTree = (state) => {\r\n\tReactDOM.render(\r\n\t<BrowserRouter>\r\n\t    <Provider  store={store}>\r\n\t\t     <App state={state} store={store} dispatch={store.dispatch.bind(store)} />\r\n\t\t</Provider>\r\n\t</BrowserRouter>\r\n\t,document.getElementById('root'));\r\n}\r\n\r\n\r\nrenderTree(store.getState()); // renderTree отрисосвывает Апп\r\n\r\nstore.subscribe( () => {\r\n\tlet state = store.getState();\r\n\trenderTree(state);\r\n});\r\n\r\n*/\r\n\r\n/*\r\nlet obj = {\r\n\tnum: 10,\r\n\tprotocol: 'http',\r\n\tbool: true,\r\n\tarr: ['1','2','3'],\r\n\tclassroom: {\r\n\t\tteather: {\r\n\t\t\tname: 'fff',\r\n\t\t\tage: 23\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nfunction copyObj(obj){\r\n\r\n\t\tlet newObj = {...obj};\r\n\t\treturn newObj;\r\n\r\n}\r\n\r\n\r\nlet copy = copyObj(obj);\r\n\r\ncopy.classroom.teather.name = 'zopa';\r\ncopy.arr.push('one more val');\r\nobj.classroom.push({key: 'value'});\r\n\r\nconsole.log(obj);\r\nconsole.log(copy);\r\n*/\r\n","import React from 'react';\r\nimport s from './FormControls.module.css';\r\n\r\nimport {Field, reduxForm} from 'redux-form';\r\n\r\nconst FormControl = ({input, meta: {touched, error}, child,...props}) => {\r\n\r\n    const hasError = error && touched;\r\n\r\n\treturn <div className={s.formControl + ' ' + (hasError ? s.error : \"\")}>\r\n\t\t       <div>\r\n\t\t           {props.children}\r\n\t\t        </div>   \r\n\t\t        { hasError && <span>{error}</span> }\r\n       \t   </div>\r\n}\r\n\r\n export const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n\r\n\treturn <FormControl {...props}>\r\n\t\t           <textarea {...input} {...restProps} />\r\n\t\t     </FormControl>\r\n}\r\n\r\n\r\nexport const Input = (props) => {\r\n   const {input, meta, ...restProps} = props;\r\n\r\n\treturn <FormControl {...props}>\r\n                      <input {...input} {...restProps}/>\r\n   \t       </FormControl>\r\n}\r\n\r\nexport const CreateField = (placeholder, component, name, arr, props = {}, text = \"\") => (<div> \r\n                                                                       <Field placeholder={placeholder} \r\n                                                                       component={component} name={name} \r\n                                                                       validate={arr} \r\n                                                                         {...props} /> {text}\r\n                                                                    </div>);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__taYMN\",\"error\":\"FormControls_error__3ntQH\",\"formSumaryError\":\"FormControls_formSumaryError__2XT1T\"};","import React from 'react'; // react импортируется из самого node moduls\r\n\r\n\r\nexport const requiredFields = (value) => { \r\n    if(value){\r\n    \treturn undefined;\r\n    }else{\r\n    \treturn \"Field is required\";\r\n    }\r\n}\r\n\r\nexport const maxLengthCreators = maxLength => value => {\r\n     if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n     return undefined;\r\n}\r\n\r\n","import React from 'react';\r\nimport preloader from '../../../preloader.svg'; // при перехое на уровень выше ./ можно упустить\r\n\r\nlet Preloader =  (props) => {\r\n   return  <div>\r\n       <img src={preloader}/> \r\n   </div>\r\n}\r\n\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport {profileApi} from './api/api';\r\n\r\n\r\nconst ADD_POST =  'ADD-POST';\r\n//const ADD_NEW_POST =  'ADD-NEW-POST';\r\nconst SET_PROFILE = 'SET-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\nlet initialSate = {\r\n\tposts: [\r\n\t\t\t\t   {id: 1, message: 'post 1', likesCount: 12},\r\n\t\t\t\t   {id: 2, message: 'post 2', likesCount: 20}\r\n\t\t\t   ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nexport const profileReducer = (state = initialSate, action) => {\r\n\r\n  switch(action.type){\r\n\r\n  \tcase ADD_POST:{\r\n\t\t\treturn {...state, posts: [...state.posts, {id: 5, message: action.newPost, likesCount: 25}]};\r\n     }\r\n\r\n/*\tcase ADD_NEW_POST:{\r\n\t\t    return {...state, newValue: action.newPost};\r\n\t}\r\n\t*/\r\n\tcase SET_PROFILE:{\r\n\t\treturn {...state, profile: action.profile};\r\n\t}\r\n\t/*case PUT_STATUS: {\r\n\t\treturn {...state, status: action.status};\r\n\t}*/\r\n\tcase SET_STATUS: {\r\n\t\treturn {...state, status: action.status};\r\n\t}\r\n\tcase DELETE_POST: {\r\n\t\treturn {...state, posts: state.posts.filter(elem => elem.id != action.id)};\r\n\t}\r\n\r\n\tdefault:\r\n\treturn state;\r\n\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPost: newPostText});\r\n//export const addNewPostActionCreator = (val) => ({type: ADD_NEW_POST, newPost: val});\r\n\r\nexport const deletePost = (id) => ({type: DELETE_POST, id});\r\n\r\nconst setProfile = (profile) => ({type: SET_PROFILE, profile:profile});\r\nconst setStatus = (status) => ({type: SET_STATUS, status: status});\r\n\r\nexport const getProfileThunk = (id) => async dispatch => {\r\n\t let resp = await\tprofileApi.getProfile(id);\r\n\r\n\t\t\tdispatch(setProfile(resp.data));\r\n}\r\n/*\r\nexport const getProfileThunk = (id) => {\r\n\treturn (dispatch) => {\r\n\t\t profileApi.getProfile(id).then(resp => {\r\n\t\t\tdispatch(setProfile(resp.data));\r\n\t\t});\r\n\t}\r\n}\r\n*/\r\nexport const setStatusThunk = (id) =>  async dispatch => {\r\n          let resp = await profileApi.getStatus(id);\r\n           \t  dispatch(setStatus(resp.data));\r\n\t}\r\n\r\n\r\nexport const updateStatusThunk = (str) => async dispatch => {\r\n        let resp = await profileApi.updateStatus(str);\r\n\r\n           \t  if(resp.data.resultCode === 0){\r\n           \t     dispatch(setStatus(str));\r\n           \t  }\r\n\t}\r\n","//import React from 'react';\r\n//import store from './state';  \r\n\r\nconst ADD_DIALOG = 'ADD-DIALOG';\r\n\r\nlet initialState = {\r\n\tdialogsData: [\r\n\t\t\t{id: 1, name: 'Katty'},\r\n\t\t\t{id: 2, name: 'Dima'},\r\n\t\t\t{id: 3, name: 'Lera'},\r\n\t\t\t{id: 4, name: 'Lena'}\r\n\t\t],\t\t\r\n\t\t messagesData: [\r\n\t\t\t{id: 1, message: 'HI'},\r\n\t\t\t{id: 2, message: 'How are you?'},\r\n\t\t\t{id: 3, message: 'Yo'},\r\n\t\t\t{id: 4, message: 'zopa'}\r\n\t\t]\r\n};\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\t\r\n\tswitch(action.type){\r\n\t\t\t\r\n\t\tcase ADD_DIALOG:{         \r\n            /*\r\n            stateCopy.messagesData = [...state.messagesData];\r\n            stateCopy.messagesData.push({id: 5, message: state.areaVal});\r\n            stateCopy.areaVal = '';\r\n            */\r\n\t\t\treturn {...state, messagesData: [...state.messagesData, {id: 5, message: action.addNewMessage}]};\r\n\t\t\t     //  {...state, messagesData: [...state.messagesData, {id: 5, message: state.areaVal}], areaVal: ''};\r\n\t\t}\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t      return state;\t\r\n\r\n\t}\r\n    \r\n}\r\n\r\nexport const addDialog = (text) => ({type: ADD_DIALOG, addNewMessage: text});\r\n\r\n"],"sourceRoot":""}